---
import { actions } from "astro:actions";

import SectionContainer from "./projects/SectionContainer.astro";
import SectionTitle from "./ui/SectionTitle.astro";
import Divisor from "./ui/Divisor.astro";
import Button from "./primitives/Button.astro";
import Label from "./starwind/starwind/label";

import Textarea from "./starwind/starwind/textarea";
import Input from "./starwind/starwind/input";
---

<article class="contact-section h-max mx-4 pt-24">
    <SectionContainer>
        <SectionTitle title="Contacto" showLink={false} />
        <Divisor space="sm" />
        <form
            class="max-w-2xl mx-auto space-y-6 md:flex md:flex-row md:items-center"
            action={actions.send}
            method="POST"
        >
            <div class="flex flex-col">
                <div class="space-y-2">
                    <Label for="name" id="name" class="font-sans font-thin">Name</Label>
                    <input
                        type="text"
                        name="name"
                        id="name"
                        required
                        class="w-full px-4 py-2 bg-background/20 border border-foreground/20 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"
                    />
                    <Input></Input>
                </div>

                <div class="space-y-2">
                   <label for="Email" id="email" class="font-sans font-thin">Email</label>
                    <input
                        id="email"
                        type="email"
                        name="email"
                        required
                        class="w-full px-4 py-2 bg-background/20 border border-foreground/20 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"
                    />
                </div>
            </div>
            <div class="space-y-2">
                <Label for="message" id="message" class="font-sans font-thin"></Label>
                <Textarea id="message" size="lg" placeholder="Medium textarea" />
            </div>

            <div class="flex justify-center">
                <Button
                    text="Enviar"
                    icon="icon-arrow-up-right"
                    style="white"
                    size="sm"
                    type="submit"
                />
            </div>
        </form>
    </SectionContainer>
</article>


<script >

    // function getFormData() {
    //     document.querySelector("form")
    //     .addEventListener("submit", (e) => {
    //         e.preventDefault();
    //         const form = e.target as HTMLFormElement;
    //         const data = Object.fromEntries(new FormData(form));
    //         alert(JSON.stringify(data, null, 2))
    //     })
    // }

    // document.addEventListener("astro:page-load", () => {
    //     getFormData();
    // });

</script>

---
import ProjectContainer from "../projects/ProjectContainer.astro";

interface FaqItem {
    question: string;
    answer: string;
}

interface Props {
    items: FaqItem[];
}

const { items } = Astro.props;
---

<article class="habilities-component h-max mx-4 pt-24">
    <ProjectContainer>
        <div class="flex flex-col gap-4">
            {
                items.map((item) => (
                    <div class="faq-item">
                        <button class="faq-question">
                            <span>{item.question}</span>
                            <svg
                                class="faq-icon"
                                xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 20 20"
                                fill="currentColor"
                            >
                                <path d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" />
                            </svg>
                        </button>
                        <div class="faq-answer">
                            <p>{item.answer}</p>
                        </div>
                    </div>
                ))
            }
        </div>
    </ProjectContainer>
</article>

<style>
    .faq-list {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .faq-item {
        border: 1px solid #e5e7eb;
        border-radius: 0.5rem;
        overflow: hidden;
    }

    .faq-question {
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1rem;
        background: white;
        border: none;
        cursor: pointer;
        text-align: left;
        font-size: 1.125rem;
        font-weight: 500;
        color: #111827;
    }

    .faq-question:hover {
        background: #f9fafb;
    }

    .faq-icon {
        width: 1.25rem;
        height: 1.25rem;
        color: #6b7280;
        transition: transform 0.2s ease;
    }

    .faq-item.active .faq-icon {
        transform: rotate(180deg);
    }

    .faq-answer {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.2s ease-out;
        background: white;
    }

    .faq-answer p {
        padding: 0 1rem 1rem;
        margin: 0;
        color: #4b5563;
    }

    .faq-item.active .faq-answer {
        max-height: 500px;
    }
</style>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        document.querySelectorAll(".faq-question").forEach((button) => {
            button.addEventListener("click", () => {
                const faqItem = button.parentElement;
                faqItem.classList.toggle("active");
            });
        });
    });
</script>
